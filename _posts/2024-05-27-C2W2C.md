---
title: 相机位姿, C2W, W2C
date: 2024-05-27 10:53
category: vision
author: winka9587
tags: []
summary: 基础知识
---

# Camera pose

我们所说的相机位姿, 一般是相机的镜头的方向+相机的坐标位置, 常见的表示有qvec+tvec, 4×4的Rt矩阵。之前初学的时候容易陷入一个误区, 既然需要的是相机镜头的方向，为什么不使用三维的空间向量来表示，而是要使用四维的四元数, 这其实是表述时候引起的误解。所谓"相机镜头的方向"其实是不对的, 其实还隐含着相机的头顶朝向, 想象一下, 相机绕着镜头的中轴线旋转时, 此时镜头的方向都是相同的, 但是拍摄出的画面是完全不同的。

下文中: $R$代表相机位姿的旋转矩阵, $t$代表相机位移向量, $T$代表4×4的变换矩阵。

Q:相机的位姿由旋转和位移组成，位移是相机在世界坐标系下的位置，旋转是什么

# C2W

C2W(Camera to World)就是将一个向量从相机坐标系变换到世界坐标系。

位移为相机在世界坐标系的坐标, 旋转为相机位姿的**旋转矩阵的转置**$R^T$

所以为什么需要多一个转置？[旋转矩阵的转置与定义](#相机位姿中旋转矩阵的转置与定义)

# W2C

通常的计算方法是计算得到C2W的Rt矩阵之后, 直接求逆

~~~
    T_{W2C} = np.linalg.inv(Rt)
~~~

# 相机位姿中旋转矩阵的转置与定义

相机的旋转矩阵$R$通常表示：世界坐标系到相机坐标系的旋转

为什么这么定义？

$$
Rt = \begin{bmatrix}
R^T & t \\
0 & 1
\end{bmatrix}
$$

# W2C
